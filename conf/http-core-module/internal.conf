events{}


http {
  server {
    location / {
      error_page 404 = /internal;
    }

    # 该location不止可以接受内部请求，也可以匹配外部请求；根据internal指令会对于外部请求返回404
    # 如果想让外部请求不匹配internal，，目前的方法是，，在internal当中添加特殊字符。
    location /internal {
      # error_page, index, random_index, try_files
      # X-Accel-Redirect
      # rewrite
      # include virtual
      # 用户任何请求都会返回200, 除了localhost/internal..
      # a limit of 10 internal redirects per request to prevent request processing cycles
      # that can occur in incorrect configurations.
      internal;

      # no internal error happend
      error_page 404 /internal;
    }
  }
}
